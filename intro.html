<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MELLIN Intro - Elegant</title>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>

<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }
  body { overflow:hidden; background:#2E211B; }

  .logo {
    position: fixed;
    top:50%;
    left:50%;
    transform: translate(-50%, -50%) scale(1.5);
    z-index:10;
    opacity:0;
    pointer-events:none;
  }
  .logo img { width:40vw; max-width:430px; height:auto; display:block; }

  .intro { position:fixed; inset:0; background:#2E211B; z-index:5; overflow:hidden; }

  
.white-slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 6;
  /* 불투명 색상 겹침 */
  background:
    linear-gradient(120deg, #F6F3EE 25%, #E9DFC8 25% 50%, #D6C4A2 50% 75%, #C9B291 75% 100%);
}


  .main { opacity:0; position:relative; z-index:1; padding:120px; text-align:center; color:#2E211B; }
</style>
</head>
<body>

<div class="logo">
  <img src="img/LOGO3.svg" alt="MELLIN LOGO">
</div>

<div class="intro">
  <div class="white-slide"></div>
</div>

<div class="main">
  <!-- 메인페이지 내용 -->
</div>

<script>
window.addEventListener("load", () => {
  const params = new URLSearchParams(window.location.search);
  const replay = params.get("replay");

  if (sessionStorage.getItem('introSeen') && !replay) {
    window.location.href = "index.html";
    return;
  }


  const logo  = document.querySelector(".logo");
  const slide = document.querySelector(".white-slide");
  const intro = document.querySelector(".intro");

  const tl = gsap.timeline();

  // 1️⃣ 로고 등장: 크게 -> 정상 크기
  tl.to(logo, {
    opacity:1,
    scale:1,
    duration:1.2,
    ease:"power2.out"
  })

  // 2️⃣ 슬라이드 이동
  .fromTo(slide,
    { x: "-100%" },
    { 
      x: "100%",
      duration:2,
      ease:"power2.inOut",
      onComplete: () => {
        intro.style.display="none";

        // 3️⃣ 로고 점점 커지면서 사라짐
        gsap.to(logo, {
          scale:3,
          opacity:0,
          duration:1.2,
          ease:"power2.in",
          onComplete: () => {
            // ✅ 세션 기록: 인트로 본 상태 저장
            sessionStorage.setItem('introSeen', 'true');
            // 4️⃣ index.html로 이동
            window.location.href = "index.html";
          }
        });
      }
    }
  );
});
</script>

</body>
</html>
